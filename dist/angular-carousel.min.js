/*! angular-carousel.min.js 16-11-2013 */
!function(a,b,c){"use strict";var d=b.module("angular-carousel",["swipe"]);d.directive("carousel",["$compile","swipe",function(d,e){return{restrict:"E",replace:!0,scope:{content:"=content"},template:'<div class="carousel"><div class="carousel__slider"></div></div>',link:function(f,g,h){function i(a,c){var d={};return d[a]=c,b.forEach(w.prefixes,function(b){d["-"+b+"-"+a]=c}),d}function j(){A=b.element(g)[0].offsetHeight}function k(a){var c;return b.forEach(y,function(b,d){b===a&&(c=d)}),c}function l(){return z.direction?x===f.content.length+D:x===E}function m(){x=E,y=[];for(var a=0;a<w.buffer;a++)y.push(a);j(),o(),s()}function n(){var a,b;if(z.direction){for(a=y[0],b=0;b<w.buffer-1;b++)y[b]=y[b+1];y[w.buffer-1]=a,x++}else{for(a=y[w.buffer-1],b=w.buffer-1;b>0;b--)y[b]=y[b-1];y[0]=a,x--}}function o(){b.forEach(I,function(a,c){b.element(a).css(i("transform","translate3d(0, "+k(c)*A+"px, 0 )"))})}function p(a,d){var e=0;a?(e=d!==c?d:w.duration,z.duration=e,b.element(F).addClass("carousel__slider--animated")):b.element(F).removeClass("carousel__slider--animated"),q(e)}function q(a){b.element(F).css(i("transitionDuration",a+"ms"))}function r(){p(!1)}function s(){t(A*E)}function t(a){var c=a-w.hint;b.element(F).css(i("transform","translate3d(0, "+c+"px, 0 )")),z.slider=a}function u(){C=!0,B=!1;var a=Math.abs(z.start-z.current);0===a&&(a=1);var b,d=(new Date).getTime(),e=d-z.last;b=z.last===c||e>w.duration?Math.round(a/A*w.duration):Math.round(e/w.duration*w.duration),a>2&&e<w.extreme&&!l()?(p(!1),B=!0,v()):(0===b&&(b=1),p(!0,b),z.last=(new Date).getTime(),l()||a<w.treshold*A?z.slider===A*E?v():s():(B=!0,z.slider===A*D||z.slider===A*(E+1)?v():z.direction?t(A*D):t(A*(E+1))))}function v(){p(!1),B&&f.$apply(function(){n(),o(),s()}),C=!1}var w={index:"cindex",prefixes:["webkit","moz","o","ms"],transition:"webkitTransitionEnd transitionend oTransitionEnd",buffer:3,treshold:.25,rubberband:4,duration:300,extreme:200,hint:0};h.options!==c&&"object"==typeof f.$eval(h.options)&&b.extend(w,f.$eval(h.options));for(var x,y,z,A,B,C,D=-(Math.floor(w.buffer/2)+1),E=-Math.floor(w.buffer/2),F=b.element(g).children(),G=0;G<w.buffer;G++){var H=b.element('<div class="carousel__page"><div class="carousel__page__container" ng-include="carousel.content('+G+')" ng-init="'+w.index+"="+G+'"></div></div>');b.element(F).append(H)}var I=b.element(F).children();d(I)(f),b.element(F).bind(w.transition,function(){v()}),z={start:0,current:0,direction:!1,slider:0,last:c,duration:0,started:!1};var J={start:function(a){C||(z.start=a.y,z.current=a.y,r(),z.started=!0)},move:function(a){if(!C&&z.started){var b=a.y-z.start<=0;if(z.direction=b,Math.abs(z.start-a.y)<=A){var c=a.y-z.current,d=z.slider+c;z.current=a.y,l()?t(z.slider+c/w.rubberband):t(d)}else l()||(b?t(A*D):t(A*(E+1)))}},end:function(){!C&&z.started&&(z.started=!1,u())}};e.bind(g,J),f.carousel={content:function(a){var b="";if(f.content!==c){var d=k(a)+x;d<=f.content.length&&d>-1&&(b=f.content[d])}return b},index:function(a){return k(a)+x}},f.$watchCollection("content",function(){m()}),b.element(a).bind("resize",function(){j()})}}}])}(window,window.angular);