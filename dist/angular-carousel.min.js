/*! angular-carousel.min.js 15-11-2013 */
!function(a,b,c){"use strict";var d=b.module("angular-carousel",["swipe"]);d.directive("carousel",["$parse","swipe",function(d,e){return{restrict:"E",replace:!0,scope:{content:"=content"},template:'<div class="carousel"><div class="carousel__slider"><div class="carousel__page"><div class="carousel__page__container" ng-include="carousel.content(0)" ng-init="cindex=0"></div></div><div class="carousel__page"><div class="carousel__page__container" ng-include="carousel.content(1)" ng-init="cindex=1"></div></div><div class="carousel__page"><div class="carousel__page__container" ng-include="carousel.content(2)" ng-init="cindex=2"></div></div></div></div>',link:function(d,f){function g(a,c){var d={};return d[a]=c,b.forEach(y.prefixes,function(b){d["-"+b+"-"+a]=c}),d}function h(){w=b.element(f)[0].offsetHeight}function i(a){var c;return b.forEach(A,function(b,d){b===a&&(c=d)}),c}function j(){return v.direction?z===d.content.length-2:-1===z}function k(){z=-1,A=[0,1,2],h(),m(),r()}function l(){var a;v.direction?(a=A[0],A[0]=A[1],A[1]=A[2],A[2]=a,z++):(a=A[0],A[0]=A[1],A[1]=A[2],A[2]=a,z--)}function m(){b.forEach(C,function(a,c){b.element(a).css(g("transform","translate3d(0, "+i(c)*w+"px, 0 )"))})}function n(a,d){var e=0;a?(e=d!==c?d:y.duration,v.duration=e,b.element(B).addClass("carousel__slider--animated")):b.element(B).removeClass("carousel__slider--animated"),o(e)}function o(a){b.element(B).css(g("transitionDuration",a+"ms"))}function p(){var a=(new Date).getTime(),b=a-v.last;n(!1),b<v.duration&&q(b/v.duration)}function q(a){1-Math.round(100*a)/100}function r(){s(-w)}function s(a){b.element(B).css(g("transform","translate3d(0, "+a+"px, 0 )")),v.slider=a}function t(){v.last=(new Date).getTime(),x=!1;var a=Math.abs(v.start-v.current);n(!0,Math.round(a/w*y.duration)),j()||a<y.treshold*w?r():(x=!0,v.slider===2*-w||0===v.slider?u():v.direction?s(2*-w):s(0))}function u(){n(!1),x&&d.$apply(function(){l(),m(),r()})}var v,w,x,y={prefixes:["webkit","moz","o","ms"],transition:"webkitTransitionEnd transitionend oTransitionEnd",treshold:.25,rubberband:3,duration:600},z=0,A=[0,1,2],B=b.element(f).children(),C=b.element(B).children();b.element(B).bind(y.transition,function(){u()}),v={start:0,current:0,direction:!1,slider:0,last:c,duration:0};var D={start:function(a){v.start=a.y,v.current=a.y,p()},move:function(a){var b=a.y-v.start<=0;if(v.direction=b,Math.abs(v.start-a.y)<=w){var c=a.y-v.current,d=v.slider+c;v.current=a.y,j()?s(v.slider+c/y.rubberband):s(d)}else j()||(b?s(2*-w):s(0))},end:function(){t()},cancel:function(){t()}};e.bind(f,D),d.carousel={content:function(a){var b="";if(d.content!==c){var e=i(a)+z;e<=d.content.length&&e>-1&&(b=d.content[e])}return b},index:function(a){return i(a)+z}},d.$watchCollection("content",function(){k()}),b.element(a).bind("resize",function(){h()})}}}])}(window,window.angular);