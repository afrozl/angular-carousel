/*! angular-carousel.min.js 16-11-2013 */
!function(a,b,c){"use strict";var d=b.module("angular-carousel",["swipe"]);d.directive("carousel",["$parse","swipe",function(d,e){return{restrict:"E",replace:!0,scope:{content:"=content"},template:'<div class="carousel"><div class="carousel__slider"><div class="carousel__page"><div class="carousel__page__container" ng-include="carousel.content(0)" ng-init="cindex=0"></div></div><div class="carousel__page"><div class="carousel__page__container" ng-include="carousel.content(1)" ng-init="cindex=1"></div></div><div class="carousel__page"><div class="carousel__page__container" ng-include="carousel.content(2)" ng-init="cindex=2"></div></div></div></div>',link:function(d,f){function g(a,c){var d={};return d[a]=c,b.forEach(y.prefixes,function(b){d["-"+b+"-"+a]=c}),d}function h(){v=b.element(f)[0].offsetHeight}function i(a){var c;return b.forEach(A,function(b,d){b===a&&(c=d)}),c}function j(){return u.direction?z===d.content.length-2:-1===z}function k(){z=-1,A=[0,1,2],h(),m(),q()}function l(){var a;u.direction?(a=A[0],A[0]=A[1],A[1]=A[2],A[2]=a,z++):(a=A[0],A[0]=A[1],A[1]=A[2],A[2]=a,z--)}function m(){b.forEach(C,function(a,c){b.element(a).css(g("transform","translate3d(0, "+i(c)*v+"px, 0 )"))})}function n(a,d){var e=0;a?(e=d!==c?d:y.duration,u.duration=e,b.element(B).addClass("carousel__slider--animated")):b.element(B).removeClass("carousel__slider--animated"),o(e)}function o(a){b.element(B).css(g("transitionDuration",a+"ms"))}function p(){n(!1)}function q(){r(-v)}function r(a){b.element(B).css(g("transform","translate3d(0, "+a+"px, 0 )")),u.slider=a}function s(){x=!0,w=!1;var a=Math.abs(u.start-u.current);0===a&&(a=1);var b,d=(new Date).getTime(),e=d-u.last;b=u.last===c||e>y.duration?Math.round(a/v*y.duration):Math.round(e/y.duration*y.duration),e<y.extreme&&!j()?(n(!1),w=!0,t()):(0===b&&(b=1),n(!0,b),u.last=(new Date).getTime(),j()||a<y.treshold*v?u.slider===-v?t():q():(w=!0,u.slider===2*-v||0===u.slider?t():u.direction?r(2*-v):r(0)))}function t(){n(!1),w&&d.$apply(function(){l(),m(),q()}),x=!1}var u,v,w,x,y={prefixes:["webkit","moz","o","ms"],transition:"webkitTransitionEnd transitionend oTransitionEnd",treshold:.25,rubberband:4,duration:300,extreme:100},z=0,A=[0,1,2],B=b.element(f).children(),C=b.element(B).children();b.element(B).bind(y.transition,function(){t()}),u={start:0,current:0,direction:!1,slider:0,last:c,duration:0,started:!1};var D={start:function(a){x||(u.start=a.y,u.current=a.y,p(),u.started=!0)},move:function(a){if(!x&&u.started){var b=a.y-u.start<=0;if(u.direction=b,Math.abs(u.start-a.y)<=v){var c=a.y-u.current,d=u.slider+c;u.current=a.y,j()?r(u.slider+c/y.rubberband):r(d)}else j()||(b?r(2*-v):r(0))}},end:function(){!x&&u.started&&(u.started=!1,s())}};e.bind(f,D),d.carousel={content:function(a){var b="";if(d.content!==c){var e=i(a)+z;e<=d.content.length&&e>-1&&(b=d.content[e])}return b},index:function(a){return i(a)+z}},d.$watchCollection("content",function(){k()}),b.element(a).bind("resize",function(){h()})}}}])}(window,window.angular);